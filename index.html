<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noun Sorter Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#007AFF",
                        secondary: "#34C759",
                        accent: "#FF9500",
                        destructive: "#FF3B30"
                    }
                }
            },
            darkMode: "class"
        }
    </script>
    <style>
        .correct-placement { border: 3px solid #34C759 !important; background-color: rgba(52, 199, 89, 0.1); }
        .incorrect-placement { border: 3px solid #FF3B30 !important; background-color: rgba(255, 59, 48, 0.1); }
        .dropzone-active { background-color: rgba(0, 122, 255, 0.1); border-style: solid; }
    </style>
</head>
<body class="p-4 sm:p-8 bg-slate-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans">

    <div class="max-w-5xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-slate-800 dark:text-white mb-2">Grammar Sort: Nouns</h1>
            <p class="text-slate-500 dark:text-slate-400">Drag the items into the correct bucket!</p>
            
            <div class="flex justify-center gap-8 mt-6">
                <div class="bg-white dark:bg-gray-800 px-6 py-2 rounded-full shadow-sm border border-slate-200 dark:border-gray-700">
                    <span class="text-sm uppercase tracking-wider font-semibold text-slate-400">Score</span>
                    <div id="score" class="text-2xl font-mono font-bold text-primary">0/40</div>
                </div>
                <div class="bg-white dark:bg-gray-800 px-6 py-2 rounded-full shadow-sm border border-slate-200 dark:border-gray-700">
                    <span class="text-sm uppercase tracking-wider font-semibold text-slate-400">Time</span>
                    <div id="timer" class="text-2xl font-mono font-bold text-accent">00:00</div>
                </div>
            </div>
        </header>

        <main id="game-container">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
                <div class="flex flex-col">
                    <h3 class="text-center font-bold text-lg mb-2 text-blue-600">Countable</h3>
                    <div id="cat-0" class="dropzone min-h-[250px] bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-slate-300 dark:border-gray-600 p-4 transition-all"></div>
                </div>
                <div class="flex flex-col">
                    <h3 class="text-center font-bold text-lg mb-2 text-green-600">Uncountable</h3>
                    <div id="cat-1" class="dropzone min-h-[250px] bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-slate-300 dark:border-gray-600 p-4 transition-all"></div>
                </div>
                <div class="flex flex-col">
                    <h3 class="text-center font-bold text-lg mb-2 text-orange-500">I don't know</h3>
                    <div id="cat-2" class="dropzone min-h-[250px] bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-slate-300 dark:border-gray-600 p-4 transition-all"></div>
                </div>
            </div>

            <div class="bg-slate-200 dark:bg-gray-800/50 p-6 rounded-2xl shadow-inner">
                <h4 class="text-center text-sm font-semibold text-slate-500 mb-4 uppercase tracking-widest">Word Pool</h4>
                <div id="item-pool" class="flex flex-wrap justify-center gap-3"></div>
            </div>

            <div class="flex justify-center gap-4 mt-10">
                <button onclick="checkGame()" class="bg-secondary hover:bg-green-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-transform active:scale-95">Check Answers</button>
                <button onclick="resetGame()" class="bg-slate-500 hover:bg-slate-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-transform active:scale-95">Reset Game</button>
            </div>
        </main>
    </div>

    <script>
        const data = {
            "categories": [
                {"id": "cat-0", "name": "Countable"},
                {"id": "cat-1", "name": "Uncountable"},
                {"id": "cat-2", "name": "I dont know"}
            ],
            "items": [
                {"id":"item-0","text":"sofa","categoryId":"cat-0"},{"id":"item-1","text":"coffee table","categoryId":"cat-0"},{"id":"item-2","text":"television","categoryId":"cat-0"},{"id":"item-3","text":"fridge","categoryId":"cat-0"},{"id":"item-4","text":"stove","categoryId":"cat-0"},{"id":"item-5","text":"microwave","categoryId":"cat-0"},{"id":"item-6","text":"bed","categoryId":"cat-0"},{"id":"item-7","text":"wardrobe","categoryId":"cat-0"},{"id":"item-8","text":"sink","categoryId":"cat-0"},{"id":"item-9","text":"toilet","categoryId":"cat-0"},{"id":"item-10","text":"card","categoryId":"cat-0"},{"id":"item-11","text":"lipstick","categoryId":"cat-0"},
                {"id":"item-12","text":"milk","categoryId":"cat-1"},{"id":"item-13","text":"oil","categoryId":"cat-1"},{"id":"item-14","text":"butter","categoryId":"cat-1"},{"id":"item-15","text":"rice","categoryId":"cat-1"},{"id":"item-16","text":"sugar","categoryId":"cat-1"},{"id":"item-17","text":"salt","categoryId":"cat-1"},{"id":"item-18","text":"pepper","categoryId":"cat-1"},{"id":"item-19","text":"bread","categoryId":"cat-1"},{"id":"item-20","text":"cheese","categoryId":"cat-1"},{"id":"item-21","text":"flour","categoryId":"cat-1"},{"id":"item-22","text":"meat","categoryId":"cat-1"},{"id":"item-23","text":"furniture","categoryId":"cat-1"},{"id":"item-24","text":"clothing","categoryId":"cat-1"},{"id":"item-25","text":"electricity","categoryId":"cat-1"},{"id":"item-26","text":"garbage","categoryId":"cat-1"},{"id":"item-27","text":"noise","categoryId":"cat-1"},{"id":"item-28","text":"rain","categoryId":"cat-1"},{"id":"item-29","text":"sunshine","categoryId":"cat-1"},{"id":"item-30","text":"air","categoryId":"cat-1"},{"id":"item-31","text":"wind","categoryId":"cat-1"},{"id":"item-32","text":"gold","categoryId":"cat-1"},{"id":"item-33","text":"silver","categoryId":"cat-1"},{"id":"item-34","text":"money","categoryId":"cat-1"},
                {"id":"item-35","text":"^.^","categoryId":"cat-2"},
                /* New Additions */
                {"id":"item-36","text":"data","categoryId":"cat-1"},
                {"id":"item-37","text":"content","categoryId":"cat-1"},
                {"id":"item-38","text":"homework","categoryId":"cat-1"},
                {"id":"item-39","text":"English","categoryId":"cat-1"}
            ]
        };

        let seconds = 0;
        let timerInterval;

        function initGame() {
            const pool = document.getElementById('item-pool');
            pool.innerHTML = '';
            const shuffledItems = [...data.items].sort(() => Math.random() - 0.5);
            
            shuffledItems.forEach(item => {
                const el = document.createElement('div');
                el.className = 'bg-white dark:bg-gray-700 px-4 py-2 rounded-lg shadow-sm border border-slate-300 dark:border-gray-600 cursor-grab active:cursor-grabbing font-medium text-sm hover:border-primary transition-colors';
                el.draggable = true;
                el.id = item.id;
                el.textContent = item.text;
                el.dataset.correct = item.categoryId;
                el.addEventListener('dragstart', e => e.dataTransfer.setData('text', e.target.id));
                pool.appendChild(el);
            });

            setupDropzones();
            startTimer();
        }

        function setupDropzones() {
            document.querySelectorAll('.dropzone, #item-pool').forEach(zone => {
                zone.addEventListener('dragover', e => {
                    e.preventDefault();
                    zone.classList.add('dropzone-active');
                });
                zone.addEventListener('dragleave', () => zone.classList.remove('dropzone-active'));
                zone.addEventListener('drop', e => {
                    e.preventDefault();
                    zone.classList.remove('dropzone-active');
                    const id = e.dataTransfer.getData('text');
                    const el = document.getElementById(id);
                    el.classList.remove('correct-placement', 'incorrect-placement');
                    zone.appendChild(el);
                });
            });
        }

        function checkGame() {
            let correctCount = 0;
            document.querySelectorAll('.dropzone').forEach(zone => {
                const zoneId = zone.id;
                const items = zone.querySelectorAll('[draggable]');
                items.forEach(item => {
                    if (item.dataset.correct === zoneId) {
                        item.classList.add('correct-placement');
                        correctCount++;
                    } else {
                        item.classList.add('incorrect-placement');
                    }
                });
            });
            document.getElementById('score').textContent = `${correctCount}/${data.items.length}`;
            if (correctCount === data.items.length) {
                clearInterval(timerInterval);
                alert(`Perfect! You finished in ${document.getElementById('timer').textContent}!`);
            }
        }

        function startTimer() {
            clearInterval(timerInterval);
            seconds = 0;
            timerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                document.getElementById('timer').textContent = `${mins}:${secs}`;
            }, 1000);
        }

        function resetGame() {
            document.querySelectorAll('.dropzone').forEach(z => z.innerHTML = '');
            document.getElementById('score').textContent = `0/${data.items.length}`;
            initGame();
        }

        initGame();
    </script>
</body>
</html>
